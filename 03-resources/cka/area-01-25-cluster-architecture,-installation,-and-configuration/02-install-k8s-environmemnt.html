<!DOCTYPE html> <html><head>
		<title>02 - Install k8s Environmemnt</title>
		<base href="..\..\../">
		<meta id="root-path" root-path="..\..\../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="CKA 1.31 Exam - 02 - Install k8s Environmemnt">
		<meta property="og:title" content="02 - Install k8s Environmemnt">
		<meta property="og:description" content="CKA 1.31 Exam - 02 - Install k8s Environmemnt">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://cka.ipcheck.sh/03-resources/cka/area-01-25-cluster-architecture,-installation,-and-configuration/02-install-k8s-environmemnt.html">
		<meta property="og:image" content="undefined">
		<meta property="og:site_name" content="CKA 1.31 Exam">
		<meta name="author" content="Matthew Evans"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://cka.ipcheck.sh/lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="lib/scripts/minisearch.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/supported-plugins.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript><link rel="preload" href="lib/styles/snippets.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/snippets.css"></noscript></head><body class="publish css-settings-manager theme-dark show-ribbon"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles">mjx-container[jax=CHTML]{line-height:0}mjx-container [space="1"]{margin-left:.111em}mjx-container [space="2"]{margin-left:.167em}mjx-container [space="3"]{margin-left:.222em}mjx-container [space="4"]{margin-left:.278em}mjx-container [space="5"]{margin-left:.333em}mjx-container [rspace="1"]{margin-right:.111em}mjx-container [rspace="2"]{margin-right:.167em}mjx-container [rspace="3"]{margin-right:.222em}mjx-container [rspace="4"]{margin-right:.278em}mjx-container [rspace="5"]{margin-right:.333em}mjx-container [size="s"]{font-size:70.7%}mjx-container [size=ss]{font-size:50%}mjx-container [size=Tn]{font-size:60%}mjx-container [size=sm]{font-size:85%}mjx-container [size=lg]{font-size:120%}mjx-container [size=Lg]{font-size:144%}mjx-container [size=LG]{font-size:173%}mjx-container [size=hg]{font-size:207%}mjx-container [size=HG]{font-size:249%}mjx-container [width=full]{width:100%}mjx-box{display:inline-block}mjx-block{display:block}mjx-itable{display:inline-table}mjx-row{display:table-row}mjx-row>*{display:table-cell}mjx-mtext{display:inline-block}mjx-mstyle{display:inline-block}mjx-merror{display:inline-block;color:red;background-color:#ff0}mjx-mphantom{visibility:hidden}mjx-assistive-mml{top:0;left:0;clip:rect(1px,1px,1px,1px);user-select:none;position:absolute!important;padding:1px 0 0!important;border:0!important;display:block!important;width:auto!important;overflow:hidden!important}mjx-assistive-mml[display=block]{width:100%!important}mjx-math{display:inline-block;text-align:left;line-height:0;text-indent:0;font-style:normal;font-weight:400;font-size:100%;letter-spacing:normal;border-collapse:collapse;overflow-wrap:normal;word-spacing:normal;white-space:nowrap;direction:ltr;padding:1px 0}mjx-container[jax=CHTML][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=CHTML][display=true][width=full]{display:flex}mjx-container[jax=CHTML][display=true] mjx-math{padding:0}mjx-container[jax=CHTML][justify=left]{text-align:left}mjx-container[jax=CHTML][justify=right]{text-align:right}mjx-mi{display:inline-block;text-align:left}mjx-c{display:inline-block}mjx-utext{display:inline-block;padding:.75em 0 .2em}mjx-mo{display:inline-block;text-align:left}mjx-stretchy-h{display:inline-table;width:100%}mjx-stretchy-h>*{display:table-cell;width:0}mjx-stretchy-h>*>mjx-c{display:inline-block;transform:scaleX(1)}mjx-stretchy-h>*>mjx-c::before{display:inline-block;width:initial}mjx-stretchy-h>mjx-ext{overflow:clip visible;width:100%}mjx-stretchy-h>mjx-ext>mjx-c::before{transform:scaleX(500)}mjx-stretchy-h>mjx-ext>mjx-c{width:0}mjx-stretchy-h>mjx-beg>mjx-c{margin-right:-.1em}mjx-stretchy-h>mjx-end>mjx-c{margin-left:-.1em}mjx-stretchy-v{display:inline-block}mjx-stretchy-v>*{display:block}mjx-stretchy-v>mjx-beg{height:0}mjx-stretchy-v>mjx-end>mjx-c{display:block}mjx-stretchy-v>*>mjx-c{transform:scaleY(1);transform-origin:left center;overflow:hidden}mjx-stretchy-v>mjx-ext{display:block;height:100%;box-sizing:border-box;border:0 solid transparent;overflow:visible clip}mjx-stretchy-v>mjx-ext>mjx-c::before{width:initial;box-sizing:border-box}mjx-stretchy-v>mjx-ext>mjx-c{transform:scaleY(500) translateY(.075em);overflow:visible}mjx-mark{display:inline-block;height:0}mjx-mn{display:inline-block;text-align:left}mjx-texatom{display:inline-block;text-align:left}mjx-c::before{display:block;width:0}.MJX-TEX{font-family:MJXZERO,MJXTEX}.TEX-B{font-family:MJXZERO,MJXTEX-B}.TEX-I{font-family:MJXZERO,MJXTEX-I}.TEX-MI{font-family:MJXZERO,MJXTEX-MI}.TEX-BI{font-family:MJXZERO,MJXTEX-BI}.TEX-S1{font-family:MJXZERO,MJXTEX-S1}.TEX-S2{font-family:MJXZERO,MJXTEX-S2}.TEX-S3{font-family:MJXZERO,MJXTEX-S3}.TEX-S4{font-family:MJXZERO,MJXTEX-S4}.TEX-A{font-family:MJXZERO,MJXTEX-A}.TEX-C{font-family:MJXZERO,MJXTEX-C}.TEX-CB{font-family:MJXZERO,MJXTEX-CB}.TEX-FR{font-family:MJXZERO,MJXTEX-FR}.TEX-FRB{font-family:MJXZERO,MJXTEX-FRB}.TEX-SS{font-family:MJXZERO,MJXTEX-SS}.TEX-SSB{font-family:MJXZERO,MJXTEX-SSB}.TEX-SSI{font-family:MJXZERO,MJXTEX-SSI}.TEX-SC{font-family:MJXZERO,MJXTEX-SC}.TEX-T{font-family:MJXZERO,MJXTEX-T}.TEX-V{font-family:MJXZERO,MJXTEX-V}.TEX-VB{font-family:MJXZERO,MJXTEX-VB}mjx-stretchy-h mjx-c,mjx-stretchy-v mjx-c{font-family:MJXZERO,MJXTEX-S1,MJXTEX-S4,MJXTEX,MJXTEX-A!important}@font-face{font-family:MJXZERO;src:url("lib/fonts/mathjax_zero.woff") format("woff")}@font-face{font-family:MJXTEX;src:url("lib/fonts/mathjax_main-regular.woff") format("woff")}@font-face{font-family:MJXTEX-B;src:url("lib/fonts/mathjax_main-bold.woff") format("woff")}@font-face{font-family:MJXTEX-I;src:url("lib/fonts/mathjax_math-italic.woff") format("woff")}@font-face{font-family:MJXTEX-MI;src:url("lib/fonts/mathjax_main-italic.woff") format("woff")}@font-face{font-family:MJXTEX-BI;src:url("lib/fonts/mathjax_math-bolditalic.woff") format("woff")}@font-face{font-family:MJXTEX-S1;src:url("lib/fonts/mathjax_size1-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S2;src:url("lib/fonts/mathjax_size2-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S3;src:url("lib/fonts/mathjax_size3-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S4;src:url("lib/fonts/mathjax_size4-regular.woff") format("woff")}@font-face{font-family:MJXTEX-A;src:url("lib/fonts/mathjax_ams-regular.woff") format("woff")}@font-face{font-family:MJXTEX-C;src:url("lib/fonts/mathjax_calligraphic-regular.woff") format("woff")}@font-face{font-family:MJXTEX-CB;src:url("lib/fonts/mathjax_calligraphic-bold.woff") format("woff")}@font-face{font-family:MJXTEX-FR;src:url("lib/fonts/mathjax_fraktur-regular.woff") format("woff")}@font-face{font-family:MJXTEX-FRB;src:url("lib/fonts/mathjax_fraktur-bold.woff") format("woff")}@font-face{font-family:MJXTEX-SS;src:url("lib/fonts/mathjax_sansserif-regular.woff") format("woff")}@font-face{font-family:MJXTEX-SSB;src:url("lib/fonts/mathjax_sansserif-bold.woff") format("woff")}@font-face{font-family:MJXTEX-SSI;src:url("lib/fonts/mathjax_sansserif-italic.woff") format("woff")}@font-face{font-family:MJXTEX-SC;src:url("lib/fonts/mathjax_script-regular.woff") format("woff")}@font-face{font-family:MJXTEX-T;src:url("lib/fonts/mathjax_typewriter-regular.woff") format("woff")}@font-face{font-family:MJXTEX-V;src:url("lib/fonts/mathjax_vector-regular.woff") format("woff")}@font-face{font-family:MJXTEX-VB;src:url("lib/fonts/mathjax_vector-bold.woff") format("woff")}mjx-c.mjx-c1D453.TEX-I::before{padding:.705em .55em .205em 0;content:"f"}mjx-c.mjx-c1D461.TEX-I::before{padding:.626em .361em .011em 0;content:"t"}mjx-c.mjx-c3D::before{padding:.583em .778em .082em 0;content:"="}mjx-c.mjx-c28::before{padding:.75em .389em .25em 0;content:"("}mjx-c.mjx-c1D45B.TEX-I::before{padding:.442em .6em .011em 0;content:"n"}mjx-c.mjx-c2212::before{padding:.583em .778em .082em 0;content:"âˆ’"}mjx-c.mjx-c31::before{padding:.666em .5em 0 0;content:"1"}mjx-c.mjx-c29::before{padding:.75em .389em .25em 0;content:")"}mjx-c.mjx-c2F::before{padding:.75em .5em .25em 0;content:"/"}mjx-c.mjx-c32::before{padding:.666em .5em 0 0;content:"2"}</style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading" id="CKA Training Notes"><p dir="auto">CKA Training Notes</p></h1><div class="el-h1 heading-wrapper"><div class="heading-children"><div class="el-h2 heading-wrapper"><h2 data-heading="==Initial Setup==" dir="auto" class="heading" id="==Initial_Setup=="><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><mark>Initial Setup</mark></h2><div class="heading-children"><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 1:* Install 3 Debian/Ubuntu VMs (cka1, cka2, cka3)" dir="auto" class="heading" id="*Step_1:*_Install_3_Debian/Ubuntu_VMs_(cka1,_cka2,_cka3)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 1:</em> Install 3 Debian/Ubuntu VMs (cka1, cka2, cka3)</h4><div class="heading-children"></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 2:* Execute the following commands on all 3 VMs" dir="auto" class="heading" id="*Step_2:*_Execute_the_following_commands_on_all_3_VMs"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 2:</em> Execute the following commands on all 3 VMs</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/modules-load.d/k8s.conf </span>
overlay br_netfilter 
EOF</span>

<span class="token function">sudo</span> modprobe overlay 
<span class="token function">sudo</span> modprobe br_netfilter 

<span class="token comment"># sysctl params required by setup, params persist across reboots </span>
<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/sysctl.d/k8s.conf </span>
net.bridge.bridge-nf-call-iptables = 1 
net.bridge.bridge-nf-call-ip6tables = 1 
net.ipv4.ip_forward = 1 
EOF</span>

<span class="token comment"># Apply sysctl params without reboot </span>
<span class="token function">sudo</span> sysctl --system
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 3:* Disable Swap on All Nodes" dir="auto" class="heading" id="*Step_3:*_Disable_Swap_on_All_Nodes"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 3:</em> Disable Swap on All Nodes</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token function">sudo</span> swapoff -a <span class="token punctuation">(</span>crontab -l <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>/dev/null<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">"@reboot /sbin/swapoff -a"</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">crontab</span> - <span class="token operator">||</span> <span class="token boolean">true</span>
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 4:* Install cri-o on All Nodes" dir="auto" class="heading" id="*Step_4:*_Install_cri-o_on_All_Nodes"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 4:</em> Install cri-o on All Nodes</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token comment"># we use cri-o because it, NOT containerd, is used on the CKA exam</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update -y 

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y software-properties-common gpg <span class="token function">curl</span> apt-transport-https ca-certificates 

<span class="token comment"># pre-requisite for cri-o</span>
<span class="token function">curl</span> -fsSL https://pkgs.k8s.io/addons:/cri-o:/prerelease:/main/deb/Release.key <span class="token operator">|</span> gpg --dearmor -o /etc/apt/keyrings/cri-o-apt-keyring.gpg <span class="token builtin class-name">echo</span> <span class="token string">"deb [signed-by=/etc/apt/keyrings/cri-o-apt-keyring.gpg] https://pkgs.k8s.io/addons:/cri-o:/prerelease:/main/deb/ /"</span> <span class="token operator">|</span> <span class="token function">tee</span> /etc/apt/sources.list.d/cri-o.list 

<span class="token comment"># install cri-o</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update -y 
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y cri-o 
<span class="token function">sudo</span> systemctl daemon-reload 
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> crio --now 
<span class="token function">sudo</span> systemctl start crio.service

<span class="token comment"># install crictl</span>
<span class="token assign-left variable">VERSION</span><span class="token operator">=</span><span class="token string">"v1.30.0"</span> 
<span class="token function">wget</span> https://github.com/kubernetes-sigs/cri-tools/releases/download/<span class="token variable">$VERSION</span>/crictl-<span class="token variable">$VERSION</span>-linux-amd64.tar.gz 
<span class="token function">sudo</span> <span class="token function">tar</span> zxvf crictl-<span class="token variable">$VERSION</span>-linux-amd64.tar.gz -C /usr/local/bin 
<span class="token function">rm</span> -f crictl-<span class="token variable">$VERSION</span>-linux-amd64.tar.gz
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 5:* Install kubeadm, kubelet, kubectl on All Nodes" dir="auto" class="heading" id="*Step_5:*_Install_kubeadm,_kubelet,_kubectl_on_All_Nodes"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 5:</em> Install kubeadm, kubelet, kubectl on All Nodes</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token assign-left variable">KUBERNETES_VERSION</span><span class="token operator">=</span><span class="token number">1.30</span> 

<span class="token function">sudo</span> <span class="token function">mkdir</span> -p /etc/apt/keyrings <span class="token function">curl</span> -fsSL https://pkgs.k8s.io/core:/stable:/v<span class="token variable">$KUBERNETES_VERSION</span>/deb/Release.key <span class="token operator">|</span> <span class="token function">sudo</span> gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg <span class="token builtin class-name">echo</span> <span class="token string">"deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v<span class="token variable">$KUBERNETES_VERSION</span>/deb/ /"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/kubernetes.list

<span class="token function">sudo</span> <span class="token function">apt</span> update -y 
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y <span class="token assign-left variable">kubelet</span><span class="token operator">=</span><span class="token number">1.30</span>.0-1.1 <span class="token assign-left variable">kubectl</span><span class="token operator">=</span><span class="token number">1.30</span>.0-1.1 <span class="token assign-left variable">kubeadm</span><span class="token operator">=</span><span class="token number">1.30</span>.0-1.1
<span class="token function">sudo</span> apt-mark hold kubelet kubeadm kubectl

<span class="token comment"># add node IP to kubelet_extra_args</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y jq

<span class="token comment"># get our defaut interface</span>
<span class="token assign-left variable">interface</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ip</span> route <span class="token operator">|</span> <span class="token function">grep</span> default <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $5}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">local_ip</span><span class="token operator">=</span><span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">ip</span> --json addr show $interface <span class="token operator">|</span> jq -r <span class="token string">'.[0].addr_info[] | select(.family == "inet") | .local'</span><span class="token variable">)</span></span>"</span>

<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/default/kubelet </span>
KUBELET_EXTRA_ARGS=--node-ip=<span class="token variable">$local_ip</span> 
EOF</span>
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 6:* Initialize the Cluster on cka1 (master node)" dir="auto" class="heading" id="*Step_6:*_Initialize_the_Cluster_on_cka1_(master_node)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 6:</em> Initialize the Cluster on cka1 (master node)</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token string">"10.5.22.102"</span> <span class="token comment"># replace with IP of master node</span>
<span class="token assign-left variable">NODENAME</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">hostname</span> -s<span class="token variable">)</span></span>
<span class="token assign-left variable">POD_CIDR</span><span class="token operator">=</span><span class="token string">"192.168.0.0/16"</span> <span class="token comment"># verify this doesn't conflict wtih any existing subnets on your home network</span>

<span class="token comment"># Initialize the cluster</span>
<span class="token function">sudo</span> kubeadm init --apiserver-advertise-address<span class="token operator">=</span><span class="token variable">$IPADDR</span> --apiserver-cert-extra-sans<span class="token operator">=</span><span class="token variable">$IPADDR</span> --pod-network-cidr<span class="token operator">=</span><span class="token variable">$POD_CIDR</span> --node-name <span class="token variable">$NODENAME</span> --ignore-preflight-errors Swap
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 7:* Configure your kubeconfig" dir="auto" class="heading" id="*Step_7:*_Configure_your_kubeconfig"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 7:</em> Configure your kubeconfig</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token function">mkdir</span> -p <span class="token environment constant">$HOME</span>/.kube 
<span class="token function">sudo</span> <span class="token function">cp</span> -i /etc/kubernetes/admin.conf <span class="token environment constant">$HOME</span>/.kube/config 
<span class="token function">sudo</span> <span class="token function">chown</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">id</span> -u<span class="token variable">)</span></span><span class="token builtin class-name">:</span><span class="token variable"><span class="token variable">$(</span><span class="token function">id</span> -g<span class="token variable">)</span></span> <span class="token environment constant">$HOME</span>/.kube/config
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 8:* Verify the Cluster" dir="auto" class="heading" id="*Step_8:*_Verify_the_Cluster"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 8:</em> Verify the Cluster</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded">k get nodes

NAME               STATUS   ROLES           AGE   VERSION
cka1               Ready    control-plane   32m   v1.30.6

get po -n kube-system

NAME                                       READY   STATUS    RESTARTS   AGE
coredns-55cb58b774-4wmkw                   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          33m
coredns-55cb58b774-s8k7f                   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          33m
etcd-cka1                                  <span class="token number">1</span>/1     Running   <span class="token number">0</span>          33m
kube-apiserver-cka1                        <span class="token number">1</span>/1     Running   <span class="token number">0</span>          33m
kube-controller-manager-cka1               <span class="token number">1</span>/1     Running   <span class="token number">0</span>          33m
kube-proxy-2b2l4                           <span class="token number">1</span>/1     Running   <span class="token number">0</span>          18m
kube-proxy-7hm9s                           <span class="token number">1</span>/1     Running   <span class="token number">0</span>          18m
kube-proxy-h4hr4                           <span class="token number">1</span>/1     Running   <span class="token number">0</span>          33m
kube-scheduler-cka1                        <span class="token number">1</span>/1     Running   <span class="token number">0</span>          33m
metrics-server-6455f4d6f7-2vspj            <span class="token number">1</span>/1     Running   <span class="token number">0</span>          17m
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="(optional) Remove the taint on the master node" dir="auto" class="heading" id="(optional)_Remove_the_taint_on_the_master_node"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>(optional) Remove the taint on the master node</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded">kubectl taint nodes --all node-role.kubernetes.io/control-plane-
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 9:* Join the Worker Nodes to the Cluster" dir="auto" class="heading" id="*Step_9:*_Join_the_Worker_Nodes_to_the_Cluster"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 9:</em> Join the Worker Nodes to the Cluster</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token comment"># get a join token via kubeADM</span>
kubeadm token create --print-join-command

<span class="token comment"># run on each node, but not the master</span>
kubeadm <span class="token function">join</span> <span class="token number">10.5</span>.22.102:6443 --token 1bkxvp.4tqsfgex45nmpwv1 --discovery-token-ca-cert-hash sha256:3c2b4c0ca2e1f933418576295f128419daf172ff1c53da0824fdc5b3e3ae1c12

<span class="token comment"># verify the nodes are joined</span>
<span class="token function">watch</span> -n <span class="token number">1</span> kubectl get nodes

NAME               STATUS   ROLES           AGE   VERSION
cka1               Ready    control-plane   36m   v1.30.6
cka2.secunit.lan   Ready    <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>          21m   v1.30.0
cka3.secunit.lan   Ready    <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>          21m   v1.30.0
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 10:* Add the worker role to the worker nodes" dir="auto" class="heading" id="*Step_10:*_Add_the_worker_role_to_the_worker_nodes"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 10:</em> Add the worker role to the worker nodes</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded">k label <span class="token function">node</span> cka2.secunit.lan node-role.kubernetes.io/worker<span class="token operator">=</span>worker
k label <span class="token function">node</span> cka3.secunit.lan node-role.kubernetes.io/worker<span class="token operator">=</span>worker

k get nodes

NAME               STATUS   ROLES           AGE   VERSION
cka1               Ready    control-plane   37m   v1.30.6
cka2.secunit.lan   Ready    worker          23m   v1.30.0
cka3.secunit.lan   Ready    worker          22m   v1.30.0
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 11:* Install the CNI Plugin (Calico)" dir="auto" class="heading" id="*Step_11:*_Install_the_CNI_Plugin_(Calico)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 11:</em> Install the CNI Plugin (Calico)</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded">kubectl apply -f https://docs.projectcalico.org/manifests/calico.yaml
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 12:* Verify the CNI Plugin" dir="auto" class="heading" id="*Step_12:*_Verify_the_CNI_Plugin"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 12:</em> Verify the CNI Plugin</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded">k get pods -n kube-system

NAME                                       READY   STATUS    RESTARTS   AGE
calico-kube-controllers-5b9b456c66-z2f2m   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          23m
calico-node-8lzcg                          <span class="token number">1</span>/1     Running   <span class="token number">0</span>          23m
calico-node-tdv7l                          <span class="token number">1</span>/1     Running   <span class="token number">0</span>          23m
calico-node-wnmsl                          <span class="token number">1</span>/1     Running   <span class="token number">0</span>          23m
coredns-55cb58b774-4wmkw                   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          38m
coredns-55cb58b774-s8k7f                   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          38m
etcd-cka1                                  <span class="token number">1</span>/1     Running   <span class="token number">0</span>          38m
kube-apiserver-cka1                        <span class="token number">1</span>/1     Running   <span class="token number">0</span>          38m
kube-controller-manager-cka1               <span class="token number">1</span>/1     Running   <span class="token number">0</span>          38m
kube-proxy-2b2l4                           <span class="token number">1</span>/1     Running   <span class="token number">0</span>          23m
kube-proxy-7hm9s                           <span class="token number">1</span>/1     Running   <span class="token number">0</span>          23m
kube-proxy-h4hr4                           <span class="token number">1</span>/1     Running   <span class="token number">0</span>          38m
kube-scheduler-cka1                        <span class="token number">1</span>/1     Running   <span class="token number">0</span>          38m
metrics-server-6455f4d6f7-2vspj            <span class="token number">1</span>/1     Running   <span class="token number">0</span>          22m
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 13:* Setup Kubernetes Metrics Server" dir="auto" class="heading" id="*Step_13:*_Setup_Kubernetes_Metrics_Server"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 13:</em> Setup Kubernetes Metrics Server</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token comment"># metrics are unavailable until the metrics server is installed</span>
k <span class="token function">top</span> nodes
error: Metrics API not available

<span class="token comment"># install the metrics server</span>
k apply -f https://raw.githubusercontent.com/techiescamp/kubeadm-scripts/main/manifests/metrics-server.yaml

<span class="token comment"># verify the metrics server</span>
k <span class="token function">top</span> nodes

NAME               CPU<span class="token punctuation">(</span>cores<span class="token punctuation">)</span>   CPU%   MEMORY<span class="token punctuation">(</span>bytes<span class="token punctuation">)</span>   MEMORY%
cka1               55m          <span class="token number">2</span>%     1178Mi          <span class="token number">63</span>%
cka2.secunit.lan   21m          <span class="token number">1</span>%     870Mi           <span class="token number">46</span>%
cka3.secunit.lan   19m          <span class="token number">0</span>%     781Mi           <span class="token number">41</span>%
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 14:* Deploy Sample Nginx Application" dir="auto" class="heading" id="*Step_14:*_Deploy_Sample_Nginx_Application"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 14:</em> Deploy Sample Nginx Application</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">|</span> kubectl apply -f - </span>
apiVersion: apps/v1 
kind: Deployment 
metadata:
  name: nginx-deployment 
spec: 
  selector: 
     matchLabels:
       app: nginx 
    replicas: 2 
    template: 
      metadata: 
        labels: 
          app: nginx 
      spec: 
        containers: 
          - name: nginx 
            image: nginx:latest
            ports: 
              - containerPort: 80
EOF</span>

<span class="token comment"># expose a nodeport service</span>
<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">|</span> kubectl apply -f - </span>
apiVersion: v1 
kind: Service 
metadata: 
  name: nginx-service 
spec: 
  selector:
    app: nginx 
  type: NodePort 
  ports: 
    - port: 80 
      targetPort: 80
      nodePort: 32000
EOF</span>

<span class="token comment"># check pod status</span>
k get pods

NAME                               READY   STATUS    RESTARTS   AGE
nginx-deployment-576c6b7b6-6lnl6   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          27m
nginx-deployment-576c6b7b6-wv6kb   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          27m
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="*Step 15:* Browse to the Nginx Application" dir="auto" class="heading" id="*Step_15:*_Browse_to_the_Nginx_Application"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><em>Step 15:</em> Browse to the Nginx Application</h4><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token function">curl</span> http://10.5.22.102:32000 <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/&lt;[^&gt;]*&gt;//g'</span>

Welcome to nginx<span class="token operator">!</span>
If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.

For online documentation and support please refer to
nginx.org.
Commercial support is available at
nginx.com.

Thank you <span class="token keyword">for</span> using nginx.
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="Important Configuration Items" dir="auto" class="heading" id="Important_Configuration_Items"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Important Configuration Items</h4><div class="heading-children"><div class="el-table" dir="ltr" style="overflow-x: auto;"><table>
<thead>
<tr>
<th align="left" dir="ltr">Configuration</th>
<th align="left" dir="ltr">Location</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" dir="ltr">Static Pods Location (etcd, api-server, controller manager and scheduler)</td>
<td align="left" dir="ltr">/etc/kubernetes/manifests</td>
</tr>
<tr>
<td align="left" dir="ltr">TLS Certificates location (kubernetes-ca, etcd-ca and kubernetes-front-proxy-ca)</td>
<td align="left" dir="ltr">/etc/kubernetes/pki</td>
</tr>
<tr>
<td align="left" dir="ltr">Admin Kubeconfig File</td>
<td align="left" dir="ltr">/etc/kubernetes/admin.conf</td>
</tr>
<tr>
<td align="left" dir="ltr">Kubelet configuration</td>
<td align="left" dir="ltr">/var/lib/kubelet/config.yaml</td>
</tr>
</tbody>
</table></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="End of 01 - Install k8s Environmemnt.md" dir="auto" class="heading" id="End_of_01_-_Install_k8s_Environmemnt.md"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>End of 01 - Install k8s Environmemnt.md</h2><div class="heading-children"><div class="mod-footer mod-ui"></div></div></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#CKA Training Notes"><div class="tree-item-contents heading-link" heading-name="CKA Training Notes"><span class="tree-item-title">CKA Training Notes</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#==Initial_Setup=="><div class="tree-item-contents heading-link" heading-name="==Initial Setup=="><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><mark>Initial Setup</mark></span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_1:*_Install_3_Debian/Ubuntu_VMs_(cka1,_cka2,_cka3)"><div class="tree-item-contents heading-link" heading-name="*Step 1:* Install 3 Debian/Ubuntu VMs (cka1, cka2, cka3)"><span class="tree-item-title"><em>Step 1:</em> Install 3 Debian/Ubuntu VMs (cka1, cka2, cka3)</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_2:*_Execute_the_following_commands_on_all_3_VMs"><div class="tree-item-contents heading-link" heading-name="*Step 2:* Execute the following commands on all 3 VMs"><span class="tree-item-title"><em>Step 2:</em> Execute the following commands on all 3 VMs</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_3:*_Disable_Swap_on_All_Nodes"><div class="tree-item-contents heading-link" heading-name="*Step 3:* Disable Swap on All Nodes"><span class="tree-item-title"><em>Step 3:</em> Disable Swap on All Nodes</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_4:*_Install_cri-o_on_All_Nodes"><div class="tree-item-contents heading-link" heading-name="*Step 4:* Install cri-o on All Nodes"><span class="tree-item-title"><em>Step 4:</em> Install cri-o on All Nodes</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_5:*_Install_kubeadm,_kubelet,_kubectl_on_All_Nodes"><div class="tree-item-contents heading-link" heading-name="*Step 5:* Install kubeadm, kubelet, kubectl on All Nodes"><span class="tree-item-title"><em>Step 5:</em> Install kubeadm, kubelet, kubectl on All Nodes</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_6:*_Initialize_the_Cluster_on_cka1_(master_node)"><div class="tree-item-contents heading-link" heading-name="*Step 6:* Initialize the Cluster on cka1 (master node)"><span class="tree-item-title"><em>Step 6:</em> Initialize the Cluster on cka1 (master node)</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_7:*_Configure_your_kubeconfig"><div class="tree-item-contents heading-link" heading-name="*Step 7:* Configure your kubeconfig"><span class="tree-item-title"><em>Step 7:</em> Configure your kubeconfig</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_8:*_Verify_the_Cluster"><div class="tree-item-contents heading-link" heading-name="*Step 8:* Verify the Cluster"><span class="tree-item-title"><em>Step 8:</em> Verify the Cluster</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#(optional)_Remove_the_taint_on_the_master_node"><div class="tree-item-contents heading-link" heading-name="(optional) Remove the taint on the master node"><span class="tree-item-title">(optional) Remove the taint on the master node</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_9:*_Join_the_Worker_Nodes_to_the_Cluster"><div class="tree-item-contents heading-link" heading-name="*Step 9:* Join the Worker Nodes to the Cluster"><span class="tree-item-title"><em>Step 9:</em> Join the Worker Nodes to the Cluster</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_10:*_Add_the_worker_role_to_the_worker_nodes"><div class="tree-item-contents heading-link" heading-name="*Step 10:* Add the worker role to the worker nodes"><span class="tree-item-title"><em>Step 10:</em> Add the worker role to the worker nodes</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_11:*_Install_the_CNI_Plugin_(Calico)"><div class="tree-item-contents heading-link" heading-name="*Step 11:* Install the CNI Plugin (Calico)"><span class="tree-item-title"><em>Step 11:</em> Install the CNI Plugin (Calico)</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_12:*_Verify_the_CNI_Plugin"><div class="tree-item-contents heading-link" heading-name="*Step 12:* Verify the CNI Plugin"><span class="tree-item-title"><em>Step 12:</em> Verify the CNI Plugin</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_13:*_Setup_Kubernetes_Metrics_Server"><div class="tree-item-contents heading-link" heading-name="*Step 13:* Setup Kubernetes Metrics Server"><span class="tree-item-title"><em>Step 13:</em> Setup Kubernetes Metrics Server</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_14:*_Deploy_Sample_Nginx_Application"><div class="tree-item-contents heading-link" heading-name="*Step 14:* Deploy Sample Nginx Application"><span class="tree-item-title"><em>Step 14:</em> Deploy Sample Nginx Application</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#*Step_15:*_Browse_to_the_Nginx_Application"><div class="tree-item-contents heading-link" heading-name="*Step 15:* Browse to the Nginx Application"><span class="tree-item-title"><em>Step 15:</em> Browse to the Nginx Application</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#Important_Configuration_Items"><div class="tree-item-contents heading-link" heading-name="Important Configuration Items"><span class="tree-item-title">Important Configuration Items</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="03-resources\cka\area-01-25-cluster-architecture,-installation,-and-configuration\02-install-k8s-environmemnt.html#End_of_01_-_Install_k8s_Environmemnt.md"><div class="tree-item-contents heading-link" heading-name="End of 01 - Install k8s Environmemnt.md"><span class="tree-item-title">End of 01 - Install k8s Environmemnt.md</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>